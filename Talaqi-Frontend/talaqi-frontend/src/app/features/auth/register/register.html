<!-- Register template: user signup form and UI. -->
<div class="register-wrapper">

  <div class="register-grid" [class.ltr]="!languageService.isRtl()">

    <!-- Left Side (Form) -->
    <div class="register-form-section">

      <div class="register-header text-center mb-4">
        <h2>{{ 'register.title' | translate }}</h2>
        <p>{{ 'register.subtitle' | translate }}</p>
      </div>

      <form [formGroup]="form" (ngSubmit)="submit()" class="register-form">

        <div class="row g-3">

          <div class="col-12 col-sm-6">
            <label class="form-label">{{ 'register.firstName' | translate }} <span class="text-danger">{{ 'register.required' | translate }}</span></label>
            <input type="text" class="form-control" formControlName="firstName" [placeholder]="'register.placeholders.firstName' | translate"
              [class.is-invalid]="isInvalid('firstName')" />
            @if (isInvalid('firstName')) {
            <div class="invalid-feedback">{{ getError('firstName') }}</div>
            }
          </div>

          <div class="col-12 col-sm-6">
            <label class="form-label">{{ 'register.lastName' | translate }} <span class="text-danger">{{ 'register.required' | translate }}</span></label>
            <input type="text" class="form-control" formControlName="lastName" [placeholder]="'register.placeholders.lastName' | translate"
              [class.is-invalid]="isInvalid('lastName')" />
            @if (isInvalid('lastName')) {
            <div class="invalid-feedback">{{ getError('lastName') }}</div>
            }
          </div>

          <div class="col-12">
            <label class="form-label">{{ 'register.email' | translate }} <span class="text-danger">{{ 'register.required' | translate }}</span></label>
            <input type="email" class="form-control" formControlName="email" name="email" id="registerEmail"
              autocomplete="email" [placeholder]="'register.placeholders.email' | translate" [class.is-invalid]="isInvalid('email')" />
            @if (isInvalid('email')) {
            <div class="invalid-feedback">{{ getError('email') }}</div>
            }
          </div>

          <div class="col-12">
            <label class="form-label">{{ 'register.phoneNumber' | translate }} <span class="text-danger">{{ 'register.required' | translate }}</span></label>
            <input type="tel" class="form-control" formControlName="phoneNumber" name="phone" id="registerPhone"
              inputmode="tel" autocomplete="tel" autocorrect="off" autocapitalize="off" [placeholder]="'register.placeholders.phoneNumber' | translate"
              [class.is-invalid]="isInvalid('phoneNumber')" />
            @if (isInvalid('phoneNumber')) {
            <div class="invalid-feedback">{{ getError('phoneNumber') }}</div>
            }
          </div>

          <div class="col-12 col-sm-6">
            <label class="form-label">{{ 'register.password' | translate }} <span class="text-danger">{{ 'register.required' | translate }}</span></label>
            <input type="password" class="form-control" formControlName="password" [placeholder]="'register.placeholders.password' | translate"
              [class.is-invalid]="isInvalid('password')" />
            @if (isInvalid('password')) {
            <div class="invalid-feedback">{{ getError('password') }}</div>
            }
          </div>

          <div class="col-12 col-sm-6">
            <label class="form-label">{{ 'register.confirmPassword' | translate }} <span class="text-danger">{{ 'register.required' | translate }}</span></label>
            <input type="password" class="form-control" formControlName="confirmPassword" [placeholder]="'register.placeholders.confirmPassword' | translate"
              [class.is-invalid]="isInvalid('confirmPassword')" />
            @if (isInvalid('confirmPassword')) {
            <div class="invalid-feedback">{{ getError('confirmPassword') }}</div>
            }
          </div>

          <div class="col-12 mt-3">
            <button class="btn btn-primary w-100 py-2 fw-bold" [disabled]="form.invalid || loading">
              @if (!loading) { {{ 'register.createAccount' | translate }} }
              @else { <span class="spinner-border spinner-border-sm"></span> {{ 'register.creating' | translate }} }
            </button>
          </div>

          <div class="col-12 text-center mt-3">
            <span class="text-muted">{{ 'register.haveAccount' | translate }} </span>
            <a routerLink="/login" class="fw-bold text-primary ms-1">{{ 'register.loginLink' | translate }} </a>
          </div>

        </div>

      </form>

    </div>

    <!-- Right Side (Image) -->
    <div class="register-image-section">
      <img src="register/1.png" [alt]="'register.imageAlt' | translate" />
    </div>

  </div>

</div>
