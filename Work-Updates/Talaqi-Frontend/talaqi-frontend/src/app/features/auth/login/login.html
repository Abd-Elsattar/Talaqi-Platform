<!-- Login template: user sign-in form and UI. -->
<section class="login-section">
  <div class="login-layout" [class.ltr]="!languageService.isRtl()">

    <!-- LEFT: Image -->
    <div class="login-image">
      <img src="login/1.png" [alt]="'login.imageAlt' | translate" />
    </div>

    <!-- RIGHT: Form -->
    <div class="login-form">

      <header class="login-header">
        <h2>{{ 'login.title' | translate }}</h2>
        <p>{{ 'login.subtitle' | translate }}</p>
        <div *ngIf="authError" class="form-alert" role="alert" aria-live="assertive">
          {{ authError }}
        </div>
      </header>

      <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" novalidate>

        <div class="form-group">
          <label>{{ 'login.email' | translate }} <span class="required">{{ 'login.required' | translate }}</span></label>
          <input type="email" class="form-input" formControlName="email" [placeholder]="'login.placeholders.email' | translate"
            (blur)="loginForm.get('email')?.markAsTouched()" [class.invalid]="isFieldInvalid('email')" />
          <div class="error-message" *ngIf="isFieldInvalid('email')">
            {{ getFieldError('email') }}
          </div>
        </div>

        <div class="form-group">
          <label>{{ 'login.password' | translate }} <span class="required">{{ 'login.required' | translate }}</span></label>
          <input type="password" class="form-input" formControlName="password" [placeholder]="'login.placeholders.password' | translate"
            (blur)="loginForm.get('password')?.markAsTouched()" [class.invalid]="isFieldInvalid('password')" />
          <div class="error-message" *ngIf="isFieldInvalid('password')">
            {{ getFieldError('password') }}
          </div>
        </div>

        <div class="forgot-password">
          <a routerLink="/forgot-password">{{ 'login.forgotPassword' | translate }}</a>
        </div>

        <button type="submit" class="btn-login" [disabled]="loginForm.invalid || isSubmitting">
          {{ isSubmitting ? ('login.loggingIn' | translate) : ('login.loginButton' | translate) }}
        </button>

        <div class="register-link">
          <span>{{ 'login.noAccount' | translate }}</span>
          <a routerLink="/register">{{ 'login.registerLink' | translate }}</a>
        </div>

      </form>
    </div>

  </div>
</section>
